[comment encoding = UTF-8 /]
[module generateHello('http://www.eclipse.org/emf/2002/Ecore')/]

[template public generateHello(class : EClass)]
	
	[comment @main /]
	
	[file (class.ePackage.name.replaceAll('\\.', '/').concat('/').concat(class.name.toUpperFirst()).concat('.java'), false, 'UTF-8')]
package [class.ePackage.name /];

public [getStruct(class) /] [class.name.toUpperFirst()/] [getSuperClasses(class) /] {

[generateAttributes(class) /]


}

	[/file]
[/template]

[template public generate(class : EClass)]
[/template]

[template public getSuperClasses( class : EClass)]
[if class.eSuperTypes->select(e : EClass | not e.interface)->size() = 1] extends
[class.eSuperTypes->select(e : EClass | not e.interface)->collect(e|e.name)->asSet()->sep(',') /] 
[/if]
[if class.eSuperTypes->select(e : EClass | e.interface)->notEmpty()] implements
[class.eSuperTypes->select(e : EClass | e.interface)->collect(e|e.name)->asSet()->sep(',') /] 
[/if]
[/template]

[template public getStruct(class : EClass)]
[if class.interface]interface[else][if class.abstract]abstract [/if]class[/if]
[/template]

[template public generateAttributes(class : EClass)]
[if not class.interface]
	[for (attribute : EAttribute | class.eAllAttributes)]
	private [getType(attribute) /] [attribute.name /]; 
	[/for]
[/if]
[/template]

[template public getType(type : ETypedElement)]
[if type.eType=EBoolean]boolean
[elseif type.eType=EInt]int
[elseif type.eType=EString]String
[else][type.eType.name /]
[/if]
[/template]